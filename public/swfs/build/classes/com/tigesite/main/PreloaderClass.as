package com.tigesite.main {	import flash.display.Sprite;	import flash.display.MovieClip;	import flash.text.TextField;	import flash.text.TextFormat;	import flash.text.TextFieldAutoSize;	import flash.display.Loader;	import flash.events.Event;	import flash.events.ProgressEvent;	import flash.display.Stage;		public class PreloaderClass extends Sprite {		private var _preloaderBase:Sprite = new Sprite();		private var _textLabel:TextField = new TextField();		private var _textFormat:TextFormat = new TextFormat();				public function PreloaderClass():void {				preloaderInit();		}				private function preloaderInit():void {			addChild(_preloaderBase);			_textFormat.color = 0xFFFFFF;			_textFormat.font = "Univers 65 Bold";			_textFormat.size = 14;			_textLabel.embedFonts = true;			_textLabel.defaultTextFormat = _textFormat;			_textLabel.autoSize = TextFieldAutoSize.LEFT;			_preloaderBase.addChild(_textLabel);			_preloaderBase.addEventListener(Event.ADDED_TO_STAGE, firePreloader);		}				private function firePreloader(e:Event):void {			_textLabel.x = (MovieClip(parent).stage.stageWidth/2) - 50;			_textLabel.y = (MovieClip(parent).stage.stageHeight/2) - 10;			MovieClip(parent).loaderInfo.addEventListener(ProgressEvent.PROGRESS, onProgress);			MovieClip(parent).loaderInfo.addEventListener(Event.COMPLETE, onComplete);		}				private function onProgress(e:ProgressEvent):void {			var loaded:Number = e.target.bytesLoaded;			var total:Number = e.target.bytesTotal;			var pct:Number = loaded/total;			_textLabel.text = "LOADED…" + Math.round(pct * 100) + "%";		}				private function onComplete(e:Event):void {			removeChild(_preloaderBase);			e.target.removeEventListener(ProgressEvent.PROGRESS, onProgress);			e.target.removeEventListener(Event.COMPLETE, onComplete);			MovieClip(parent).gotoAndStop(2);		}	}}